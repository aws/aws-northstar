ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],(function(require,exports,module){"use strict";var dom=require("./lib/dom"),oop=require("./lib/oop"),EventEmitter=require("./lib/event_emitter").EventEmitter,lang=require("./lib/lang"),Range=require("./range").Range,RangeList=require("./range_list").RangeList,HashHandler=require("./keyboard/hash_handler").HashHandler,Tokenizer=require("./tokenizer").Tokenizer,clipboard=require("./clipboard"),VARIABLES={CURRENT_WORD:function(editor){return editor.session.getTextRange(editor.session.getWordRange())},SELECTION:function(editor,name,indentation){var text=editor.session.getTextRange();return indentation?text.replace(/\n\r?([ \t]*\S)/g,"\n"+indentation+"$1"):text},CURRENT_LINE:function(editor){return editor.session.getLine(editor.getCursorPosition().row)},PREV_LINE:function(editor){return editor.session.getLine(editor.getCursorPosition().row-1)},LINE_INDEX:function(editor){return editor.getCursorPosition().row},LINE_NUMBER:function(editor){return editor.getCursorPosition().row+1},SOFT_TABS:function(editor){return editor.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(editor){return editor.session.getTabSize()},CLIPBOARD:function(editor){return clipboard.getText&&clipboard.getText()},FILENAME:function(editor){return/[^/\\]*$/.exec(this.FILEPATH(editor))[0]},FILENAME_BASE:function(editor){return/[^/\\]*$/.exec(this.FILEPATH(editor))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(editor){return this.FILEPATH(editor).replace(/[^/\\]*$/,"")},FILEPATH:function(editor){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(editor){var mode=editor.session.$mode||{};return mode.blockComment&&mode.blockComment.start||""},BLOCK_COMMENT_END:function(editor){var mode=editor.session.$mode||{};return mode.blockComment&&mode.blockComment.end||""},LINE_COMMENT:function(editor){return(editor.session.$mode||{}).lineCommentStart||""},CURRENT_YEAR:date.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:date.bind(null,{year:"2-digit"}),CURRENT_MONTH:date.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:date.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:date.bind(null,{month:"short"}),CURRENT_DATE:date.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:date.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:date.bind(null,{weekday:"short"}),CURRENT_HOUR:date.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:date.bind(null,{minute:"2-digit"}),CURRENT_SECOND:date.bind(null,{second:"2-digit"})};function date(dateFormat){var str=(new Date).toLocaleString("en-us",dateFormat);return 1==str.length?"0"+str:str}VARIABLES.SELECTED_TEXT=VARIABLES.SELECTION;var SnippetManager=function(){function SnippetManager(){this.snippetMap={},this.snippetNameMap={},this.variables=VARIABLES}return SnippetManager.prototype.getTokenizer=function(){return SnippetManager.$tokenizer||this.createTokenizer()},SnippetManager.prototype.createTokenizer=function(){function TabstopToken(str){return str=str.substr(1),/^\d+$/.test(str)?[{tabstopId:parseInt(str,10)}]:[{text:str}]}function escape(ch){return"(?:[^\\\\"+ch+"]|\\\\.)"}var formatMatcher={regex:"/("+escape("/")+"+)/",onMatch:function(val,state,stack){var ts=stack[0];return ts.fmtString=!0,ts.guard=val.slice(1,-1),ts.flag="",""},next:"formatString"};return SnippetManager.$tokenizer=new Tokenizer({start:[{regex:/\\./,onMatch:function(val,state,stack){var ch=val[1];return("}"==ch&&stack.length||-1!="`$\\".indexOf(ch))&&(val=ch),[val]}},{regex:/}/,onMatch:function(val,state,stack){return[stack.length?stack.shift():val]}},{regex:/\$(?:\d+|\w+)/,onMatch:TabstopToken},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(str,state,stack){var t=TabstopToken(str.substr(1));return stack.unshift(t[0]),t},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+escape("\\|")+"*\\|",onMatch:function(val,state,stack){var choices=val.slice(1,-1).replace(/\\[,|\\]|,/g,(function(operator){return 2==operator.length?operator[1]:"\0"})).split("\0").map((function(value){return{value:value}}));return stack[0].choices=choices,[choices[0]]},next:"start"},formatMatcher,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(val,state,stack){return stack.length&&stack[0].expectElse?(stack[0].expectElse=!1,stack[0].ifEnd={elseEnd:stack[0]},[stack[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(val,state,stack){var ch=val[1];return"}"==ch&&stack.length||-1!="`$\\".indexOf(ch)?val=ch:"n"==ch?val="\n":"t"==ch?val="\t":-1!="ulULE".indexOf(ch)&&(val={changeCase:ch,local:ch>"a"}),[val]}},{regex:"/\\w*}",onMatch:function(val,state,stack){var next=stack.shift();return next&&(next.flag=val.slice(1,-1)),this.next=next&&next.tabstopId?"start":"",[next||val]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(val,state,stack){return[{text:val.slice(1)}]}},{regex:/\${\w+/,onMatch:function(val,state,stack){var token={text:val.slice(2)};return stack.unshift(token),[token]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(val,state,stack){var next=stack.shift();return this.next=next&&next.tabstopId?"start":"",[next||val]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(val,state,stack){return stack[0].formatFunction=val.slice(2,-1),[stack.shift()]},next:"formatString"},formatMatcher,{regex:/:[\?\-+]?/,onMatch:function(val,state,stack){"+"==val[1]&&(stack[0].ifEnd=stack[0]),"?"==val[1]&&(stack[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),SnippetManager.$tokenizer},SnippetManager.prototype.tokenizeTmSnippet=function(str,startState){return this.getTokenizer().getLineTokens(str,startState).tokens.map((function(x){return x.value||x}))},SnippetManager.prototype.getVariableValue=function(editor,name,indentation){if(/^\d+$/.test(name))return(this.variables.__||{})[name]||"";if(/^[A-Z]\d+$/.test(name))return(this.variables[name[0]+"__"]||{})[name.substr(1)]||"";if(name=name.replace(/^TM_/,""),!this.variables.hasOwnProperty(name))return"";var value=this.variables[name];return"function"==typeof value&&(value=this.variables[name](editor,name,indentation)),null==value?"":value},SnippetManager.prototype.tmStrFormat=function(str,ch,editor){if(!ch.fmt)return str;var flag=ch.flag||"",re=ch.guard;re=new RegExp(re,flag.replace(/[^gim]/g,""));var fmtTokens="string"==typeof ch.fmt?this.tokenizeTmSnippet(ch.fmt,"formatString"):ch.fmt,_self=this,formatted=str.replace(re,(function(){var oldArgs=_self.variables.__;_self.variables.__=[].slice.call(arguments);for(var fmtParts=_self.resolveVariables(fmtTokens,editor),gChangeCase="E",i=0;i<fmtParts.length;i++){var ch=fmtParts[i];if("object"==typeof ch)if(fmtParts[i]="",ch.changeCase&&ch.local){var next=fmtParts[i+1];next&&"string"==typeof next&&("u"==ch.changeCase?fmtParts[i]=next[0].toUpperCase():fmtParts[i]=next[0].toLowerCase(),fmtParts[i+1]=next.substr(1))}else ch.changeCase&&(gChangeCase=ch.changeCase);else"U"==gChangeCase?fmtParts[i]=ch.toUpperCase():"L"==gChangeCase&&(fmtParts[i]=ch.toLowerCase())}return _self.variables.__=oldArgs,fmtParts.join("")}));return formatted},SnippetManager.prototype.tmFormatFunction=function(str,ch,editor){return"upcase"==ch.formatFunction?str.toUpperCase():"downcase"==ch.formatFunction?str.toLowerCase():str},SnippetManager.prototype.resolveVariables=function(snippet,editor){for(var result=[],indentation="",afterNewLine=!0,i=0;i<snippet.length;i++){var ch=snippet[i];if("string"!=typeof ch){if(ch){if(afterNewLine=!1,ch.fmtString){var j=snippet.indexOf(ch,i+1);-1==j&&(j=snippet.length),ch.fmt=snippet.slice(i+1,j),i=j}if(ch.text){var value=this.getVariableValue(editor,ch.text,indentation)+"";ch.fmtString&&(value=this.tmStrFormat(value,ch,editor)),ch.formatFunction&&(value=this.tmFormatFunction(value,ch,editor)),value&&!ch.ifEnd?(result.push(value),gotoNext(ch)):!value&&ch.ifEnd&&gotoNext(ch.ifEnd)}else ch.elseEnd?gotoNext(ch.elseEnd):(null!=ch.tabstopId||null!=ch.changeCase)&&result.push(ch)}}else result.push(ch),"\n"==ch?(afterNewLine=!0,indentation=""):afterNewLine&&(indentation=/^\t*/.exec(ch)[0],afterNewLine=/\S/.test(ch))}function gotoNext(ch){var i1=snippet.indexOf(ch,i+1);-1!=i1&&(i=i1)}return result},SnippetManager.prototype.getDisplayTextForSnippet=function(editor,snippetText){return processSnippetText.call(this,editor,snippetText).text},SnippetManager.prototype.insertSnippetForSelection=function(editor,snippetText,options){void 0===options&&(options={});var processedSnippet=processSnippetText.call(this,editor,snippetText,options),range=editor.getSelectionRange();options.range&&0===options.range.compareRange(range)&&(range=options.range);var end=editor.session.replace(range,processedSnippet.text),tabstopManager=new TabstopManager(editor),selectionId=editor.inVirtualSelectionMode&&editor.selection.index;tabstopManager.addTabstops(processedSnippet.tabstops,range.start,end,selectionId)},SnippetManager.prototype.insertSnippet=function(editor,snippetText,options){void 0===options&&(options={});var self=this;if(!options.range||options.range instanceof Range||(options.range=Range.fromPoints(options.range.start,options.range.end)),editor.inVirtualSelectionMode)return self.insertSnippetForSelection(editor,snippetText,options);editor.forEachSelection((function(){self.insertSnippetForSelection(editor,snippetText,options)}),null,{keepOrder:!0}),editor.tabstopManager&&editor.tabstopManager.tabNext()},SnippetManager.prototype.$getScope=function(editor){var scope=editor.session.$mode.$id||"";if("html"===(scope=scope.split("/").pop())||"php"===scope){"php"!==scope||editor.session.$mode.inlinePhp||(scope="html");var c=editor.getCursorPosition(),state=editor.session.getState(c.row);"object"==typeof state&&(state=state[0]),state.substring&&("js-"==state.substring(0,3)?scope="javascript":"css-"==state.substring(0,4)?scope="css":"php-"==state.substring(0,4)&&(scope="php"))}return scope},SnippetManager.prototype.getActiveScopes=function(editor){var scope=this.$getScope(editor),scopes=[scope],snippetMap=this.snippetMap;return snippetMap[scope]&&snippetMap[scope].includeScopes&&scopes.push.apply(scopes,snippetMap[scope].includeScopes),scopes.push("_"),scopes},SnippetManager.prototype.expandWithTab=function(editor,options){var self=this,result=editor.forEachSelection((function(){return self.expandSnippetForSelection(editor,options)}),null,{keepOrder:!0});return result&&editor.tabstopManager&&editor.tabstopManager.tabNext(),result},SnippetManager.prototype.expandSnippetForSelection=function(editor,options){var snippet,cursor=editor.getCursorPosition(),line=editor.session.getLine(cursor.row),before=line.substring(0,cursor.column),after=line.substr(cursor.column),snippetMap=this.snippetMap;return this.getActiveScopes(editor).some((function(scope){var snippets=snippetMap[scope];return snippets&&(snippet=this.findMatchingSnippet(snippets,before,after)),!!snippet}),this),!!snippet&&(options&&options.dryRun||(editor.session.doc.removeInLine(cursor.row,cursor.column-snippet.replaceBefore.length,cursor.column+snippet.replaceAfter.length),this.variables.M__=snippet.matchBefore,this.variables.T__=snippet.matchAfter,this.insertSnippetForSelection(editor,snippet.content),this.variables.M__=this.variables.T__=null),!0)},SnippetManager.prototype.findMatchingSnippet=function(snippetList,before,after){for(var i=snippetList.length;i--;){var s=snippetList[i];if((!s.startRe||s.startRe.test(before))&&((!s.endRe||s.endRe.test(after))&&(s.startRe||s.endRe)))return s.matchBefore=s.startRe?s.startRe.exec(before):[""],s.matchAfter=s.endRe?s.endRe.exec(after):[""],s.replaceBefore=s.triggerRe?s.triggerRe.exec(before)[0]:"",s.replaceAfter=s.endTriggerRe?s.endTriggerRe.exec(after)[0]:"",s}},SnippetManager.prototype.register=function(snippets,scope){var snippetMap=this.snippetMap,snippetNameMap=this.snippetNameMap,self=this;function wrapRegexp(src){return src&&!/^\^?\(.*\)\$?$|^\\b$/.test(src)&&(src="(?:"+src+")"),src||""}function guardedRegexp(re,guard,opening){return re=wrapRegexp(re),guard=wrapRegexp(guard),opening?(re=guard+re)&&"$"!=re[re.length-1]&&(re+="$"):(re+=guard)&&"^"!=re[0]&&(re="^"+re),new RegExp(re)}function addSnippet(s){s.scope||(s.scope=scope||"_"),scope=s.scope,snippetMap[scope]||(snippetMap[scope]=[],snippetNameMap[scope]={});var map=snippetNameMap[scope];if(s.name){var old=map[s.name];old&&self.unregister(old),map[s.name]=s}snippetMap[scope].push(s),s.prefix&&(s.tabTrigger=s.prefix),!s.content&&s.body&&(s.content=Array.isArray(s.body)?s.body.join("\n"):s.body),s.tabTrigger&&!s.trigger&&(!s.guard&&/^\w/.test(s.tabTrigger)&&(s.guard="\\b"),s.trigger=lang.escapeRegExp(s.tabTrigger)),(s.trigger||s.guard||s.endTrigger||s.endGuard)&&(s.startRe=guardedRegexp(s.trigger,s.guard,!0),s.triggerRe=new RegExp(s.trigger),s.endRe=guardedRegexp(s.endTrigger,s.endGuard,!0),s.endTriggerRe=new RegExp(s.endTrigger))}snippets||(snippets=[]),Array.isArray(snippets)?snippets.forEach(addSnippet):Object.keys(snippets).forEach((function(key){addSnippet(snippets[key])})),this._signal("registerSnippets",{scope:scope})},SnippetManager.prototype.unregister=function(snippets,scope){var snippetMap=this.snippetMap,snippetNameMap=this.snippetNameMap;function removeSnippet(s){var nameMap=snippetNameMap[s.scope||scope];if(nameMap&&nameMap[s.name]){delete nameMap[s.name];var map=snippetMap[s.scope||scope],i=map&&map.indexOf(s);i>=0&&map.splice(i,1)}}snippets.content?removeSnippet(snippets):Array.isArray(snippets)&&snippets.forEach(removeSnippet)},SnippetManager.prototype.parseSnippetFile=function(str){str=str.replace(/\r/g,"");for(var m,list=[],snippet={},re=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;m=re.exec(str);){if(m[1])try{snippet=JSON.parse(m[1]),list.push(snippet)}catch(e){}if(m[4])snippet.content=m[4].replace(/^\t/gm,""),list.push(snippet),snippet={};else{var key=m[2],val=m[3];if("regex"==key){var guardRe=/\/((?:[^\/\\]|\\.)*)|$/g;snippet.guard=guardRe.exec(val)[1],snippet.trigger=guardRe.exec(val)[1],snippet.endTrigger=guardRe.exec(val)[1],snippet.endGuard=guardRe.exec(val)[1]}else"snippet"==key?(snippet.tabTrigger=val.match(/^\S*/)[0],snippet.name||(snippet.name=val)):key&&(snippet[key]=val)}}return list},SnippetManager.prototype.getSnippetByName=function(name,editor){var snippet,snippetMap=this.snippetNameMap;return this.getActiveScopes(editor).some((function(scope){var snippets=snippetMap[scope];return snippets&&(snippet=snippets[name]),!!snippet}),this),snippet},SnippetManager}();oop.implement(SnippetManager.prototype,EventEmitter);var processSnippetText=function(editor,snippetText,options){void 0===options&&(options={});var cursor=editor.getCursorPosition(),line=editor.session.getLine(cursor.row),tabString=editor.session.getTabString(),indentString=line.match(/^\s*/)[0];cursor.column<indentString.length&&(indentString=indentString.slice(0,cursor.column)),snippetText=snippetText.replace(/\r/g,"");var tokens=this.tokenizeTmSnippet(snippetText);tokens=(tokens=this.resolveVariables(tokens,editor)).map((function(x){return"\n"!=x||options.excludeExtraIndent?"string"==typeof x?x.replace(/\t/g,tabString):x:x+indentString}));var tabstops=[];tokens.forEach((function(p,i){if("object"==typeof p){var id=p.tabstopId,ts=tabstops[id];if(ts||((ts=tabstops[id]=[]).index=id,ts.value="",ts.parents={}),-1===ts.indexOf(p)){p.choices&&!ts.choices&&(ts.choices=p.choices),ts.push(p);var i1=tokens.indexOf(p,i+1);if(-1!==i1){var value=tokens.slice(i+1,i1);value.some((function(t){return"object"==typeof t}))&&!ts.value?ts.value=value:!value.length||ts.value&&"string"==typeof ts.value||(ts.value=value.join(""))}}}})),tabstops.forEach((function(ts){ts.length=0}));var expanding={};function copyValue(val){for(var copy=[],i=0;i<val.length;i++){var p=val[i];if("object"==typeof p){if(expanding[p.tabstopId])continue;p=copy[val.lastIndexOf(p,i-1)]||{tabstopId:p.tabstopId}}copy[i]=p}return copy}for(var i=0;i<tokens.length;i++){var p=tokens[i];if("object"==typeof p){var id=p.tabstopId,ts=tabstops[id],i1=tokens.indexOf(p,i+1);if(expanding[id])expanding[id]===p&&(delete expanding[id],Object.keys(expanding).forEach((function(parentId){ts.parents[parentId]=!0})));else{expanding[id]=p;var value=ts.value;"string"!=typeof value?value=copyValue(value):p.fmt&&(value=this.tmStrFormat(value,p,editor)),tokens.splice.apply(tokens,[i+1,Math.max(0,i1-i)].concat(value,p)),-1===ts.indexOf(p)&&ts.push(p)}}}var row=0,column=0,text="";return tokens.forEach((function(t){if("string"==typeof t){var lines=t.split("\n");lines.length>1?(column=lines[lines.length-1].length,row+=lines.length-1):column+=t.length,text+=t}else t&&(t.start?t.end={row:row,column:column}:t.start={row:row,column:column})})),{text:text,tabstops:tabstops,tokens:tokens}},TabstopManager=function(){function TabstopManager(editor){if(this.index=0,this.ranges=[],this.tabstops=[],editor.tabstopManager)return editor.tabstopManager;editor.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=lang.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(editor)}return TabstopManager.prototype.attach=function(editor){this.$openTabstops=null,this.selectedTabstop=null,this.editor=editor,this.session=editor.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},TabstopManager.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},TabstopManager.prototype.onChange=function(delta){for(var isRemove="r"==delta.action[0],selectedTabstop=this.selectedTabstop||{},parents=selectedTabstop.parents||{},tabstops=this.tabstops.slice(),i=0;i<tabstops.length;i++){var ts=tabstops[i],active=ts==selectedTabstop||parents[ts.index];if(ts.rangeList.$bias=active?0:1,"remove"==delta.action&&ts!==selectedTabstop){var parentActive=ts.parents&&ts.parents[selectedTabstop.index],startIndex=ts.rangeList.pointIndex(delta.start,parentActive);startIndex=startIndex<0?-startIndex-1:startIndex+1;var endIndex=ts.rangeList.pointIndex(delta.end,parentActive);endIndex=endIndex<0?-endIndex-1:endIndex-1;for(var toRemove=ts.rangeList.ranges.slice(startIndex,endIndex),j=0;j<toRemove.length;j++)this.removeRange(toRemove[j])}ts.rangeList.$onChange(delta)}var session=this.session;this.$inChange||!isRemove||1!=session.getLength()||session.getValue()||this.detach()},TabstopManager.prototype.updateLinkedFields=function(){var ts=this.selectedTabstop;if(ts&&ts.hasLinkedRanges&&ts.firstNonLinked){this.$inChange=!0;for(var session=this.session,text=session.getTextRange(ts.firstNonLinked),i=0;i<ts.length;i++){var range=ts[i];if(range.linked){var original=range.original,fmt=exports.snippetManager.tmStrFormat(text,original,this.editor);session.replace(range,fmt)}}this.$inChange=!1}},TabstopManager.prototype.onAfterExec=function(e){e.command&&!e.command.readOnly&&this.updateLinkedFields()},TabstopManager.prototype.onChangeSelection=function(){if(this.editor){for(var lead=this.editor.selection.lead,anchor=this.editor.selection.anchor,isEmpty=this.editor.selection.isEmpty(),i=0;i<this.ranges.length;i++)if(!this.ranges[i].linked){var containsLead=this.ranges[i].contains(lead.row,lead.column),containsAnchor=isEmpty||this.ranges[i].contains(anchor.row,anchor.column);if(containsLead&&containsAnchor)return}this.detach()}},TabstopManager.prototype.onChangeSession=function(){this.detach()},TabstopManager.prototype.tabNext=function(dir){var max=this.tabstops.length,index=this.index+(dir||1);(index=Math.min(Math.max(index,1),max))==max&&(index=0),this.selectTabstop(index),0===index&&this.detach()},TabstopManager.prototype.selectTabstop=function(index){this.$openTabstops=null;var ts=this.tabstops[this.index];if(ts&&this.addTabstopMarkers(ts),this.index=index,(ts=this.tabstops[this.index])&&ts.length){this.selectedTabstop=ts;var range=ts.firstNonLinked||ts;if(ts.choices&&(range.cursor=range.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(range);else{var sel=this.editor.multiSelect;sel.toSingleRange(range);for(var i=0;i<ts.length;i++)ts.hasLinkedRanges&&ts[i].linked||sel.addRange(ts[i].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},TabstopManager.prototype.addTabstops=function(tabstops,start,end){var useLink=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!tabstops[0]){var p=Range.fromPoints(end,end);moveRelative(p.start,start),moveRelative(p.end,start),tabstops[0]=[p],tabstops[0].index=0}var arg=[this.index+1,0],ranges=this.ranges;tabstops.forEach((function(ts,index){for(var dest=this.$openTabstops[index]||ts,i=0;i<ts.length;i++){var p=ts[i],range=Range.fromPoints(p.start,p.end||p.start);movePoint(range.start,start),movePoint(range.end,start),range.original=p,range.tabstop=dest,ranges.push(range),dest!=ts?dest.unshift(range):dest[i]=range,p.fmtString||dest.firstNonLinked&&useLink?(range.linked=!0,dest.hasLinkedRanges=!0):dest.firstNonLinked||(dest.firstNonLinked=range)}dest.firstNonLinked||(dest.hasLinkedRanges=!1),dest===ts&&(arg.push(dest),this.$openTabstops[index]=dest),this.addTabstopMarkers(dest),dest.rangeList=dest.rangeList||new RangeList,dest.rangeList.$bias=0,dest.rangeList.addList(dest)}),this),arg.length>2&&(this.tabstops.length&&arg.push(arg.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,arg))},TabstopManager.prototype.addTabstopMarkers=function(ts){var session=this.session;ts.forEach((function(range){range.markerId||(range.markerId=session.addMarker(range,"ace_snippet-marker","text"))}))},TabstopManager.prototype.removeTabstopMarkers=function(ts){var session=this.session;ts.forEach((function(range){session.removeMarker(range.markerId),range.markerId=null}))},TabstopManager.prototype.removeRange=function(range){var i=range.tabstop.indexOf(range);-1!=i&&range.tabstop.splice(i,1),-1!=(i=this.ranges.indexOf(range))&&this.ranges.splice(i,1),-1!=(i=range.tabstop.rangeList.ranges.indexOf(range))&&range.tabstop.splice(i,1),this.session.removeMarker(range.markerId),range.tabstop.length||(-1!=(i=this.tabstops.indexOf(range.tabstop))&&this.tabstops.splice(i,1),this.tabstops.length||this.detach())},TabstopManager}();TabstopManager.prototype.keyboardHandler=new HashHandler,TabstopManager.prototype.keyboardHandler.bindKeys({Tab:function(editor){exports.snippetManager&&exports.snippetManager.expandWithTab(editor)||(editor.tabstopManager.tabNext(1),editor.renderer.scrollCursorIntoView())},"Shift-Tab":function(editor){editor.tabstopManager.tabNext(-1),editor.renderer.scrollCursorIntoView()},Esc:function(editor){editor.tabstopManager.detach()}});var movePoint=function(point,diff){0==point.row&&(point.column+=diff.column),point.row+=diff.row},moveRelative=function(point,start){point.row==start.row&&(point.column-=start.column),point.row-=start.row};dom.importCssString("\n.ace_snippet-marker {\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n    background: rgba(194, 193, 208, 0.09);\n    border: 1px dotted rgba(211, 208, 235, 0.62);\n    position: absolute;\n}","snippets.css",!1),exports.snippetManager=new SnippetManager;var Editor=require("./editor").Editor;(function(){this.insertSnippet=function(content,options){return exports.snippetManager.insertSnippet(this,content,options)},this.expandSnippet=function(options){return exports.snippetManager.expandWithTab(this,options)}}).call(Editor.prototype)})),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets"],(function(require,exports,module){"use strict";var snippetManager=require("../snippets").snippetManager,AceInline=function(){function AceInline(){this.editor=null}return AceInline.prototype.show=function(editor,completion,prefix){if(prefix=prefix||"",editor&&this.editor&&this.editor!==editor&&(this.hide(),this.editor=null),!editor||!completion)return!1;var displayText=completion.snippet?snippetManager.getDisplayTextForSnippet(editor,completion.snippet):completion.value;return!(!displayText||!displayText.startsWith(prefix))&&(this.editor=editor,""===(displayText=displayText.slice(prefix.length))?editor.removeGhostText():editor.setGhostText(displayText),!0)},AceInline.prototype.isOpen=function(){return!!this.editor&&!!this.editor.renderer.$ghostText},AceInline.prototype.hide=function(){return!!this.editor&&(this.editor.removeGhostText(),!0)},AceInline.prototype.destroy=function(){this.hide(),this.editor=null},AceInline}();exports.AceInline=AceInline})),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config"],(function(require,exports,module){"use strict";var Renderer=require("../virtual_renderer").VirtualRenderer,Editor=require("../editor").Editor,Range=require("../range").Range,event=require("../lib/event"),lang=require("../lib/lang"),dom=require("../lib/dom"),nls=require("../config").nls,getAriaId=function(index){return"suggest-aria-id:".concat(index)},$singleLineEditor=function(el){var renderer=new Renderer(el);renderer.$maxLines=4;var editor=new Editor(renderer);return editor.setHighlightActiveLine(!1),editor.setShowPrintMargin(!1),editor.renderer.setShowGutter(!1),editor.renderer.setHighlightGutterLine(!1),editor.$mouseHandler.$focusTimeout=0,editor.$highlightTagPending=!0,editor},AcePopup=function AcePopup(parentNode){var el=dom.createElement("div"),popup=new $singleLineEditor(el);parentNode&&parentNode.appendChild(el),el.style.display="none",popup.renderer.content.style.cursor="default",popup.renderer.setStyle("ace_autocomplete"),popup.renderer.$textLayer.element.setAttribute("role","listbox"),popup.renderer.$textLayer.element.setAttribute("aria-label",nls("Autocomplete suggestions")),popup.renderer.textarea.setAttribute("aria-hidden","true"),popup.setOption("displayIndentGuides",!1),popup.setOption("dragDelay",150);var lastMouseEvent,noop=function(){};popup.focus=noop,popup.$isFocused=!0,popup.renderer.$cursorLayer.restartTimer=noop,popup.renderer.$cursorLayer.element.style.opacity=0,popup.renderer.$maxLines=8,popup.renderer.$keepTextAreaAtCursor=!1,popup.setHighlightActiveLine(!1),popup.session.highlight(""),popup.session.$searchHighlight.clazz="ace_highlight-marker",popup.on("mousedown",(function(e){var pos=e.getDocumentPosition();popup.selection.moveToPosition(pos),selectionMarker.start.row=selectionMarker.end.row=pos.row,e.stop()}));var hoverMarker=new Range(-1,0,-1,1/0),selectionMarker=new Range(-1,0,-1,1/0);selectionMarker.id=popup.session.addMarker(selectionMarker,"ace_active-line","fullLine"),popup.setSelectOnHover=function(val){val?hoverMarker.id&&(popup.session.removeMarker(hoverMarker.id),hoverMarker.id=null):hoverMarker.id=popup.session.addMarker(hoverMarker,"ace_line-hover","fullLine")},popup.setSelectOnHover(!1),popup.on("mousemove",(function(e){if(lastMouseEvent){if(lastMouseEvent.x!=e.x||lastMouseEvent.y!=e.y){(lastMouseEvent=e).scrollTop=popup.renderer.scrollTop;var row=lastMouseEvent.getDocumentPosition().row;hoverMarker.start.row!=row&&(hoverMarker.id||popup.setRow(row),setHoverMarker(row))}}else lastMouseEvent=e})),popup.renderer.on("beforeRender",(function(){if(lastMouseEvent&&-1!=hoverMarker.start.row){lastMouseEvent.$pos=null;var row=lastMouseEvent.getDocumentPosition().row;hoverMarker.id||popup.setRow(row),setHoverMarker(row,!0)}})),popup.renderer.on("afterRender",(function(){var row=popup.getRow(),t=popup.renderer.$textLayer,selected=t.element.childNodes[row-t.config.firstRow],el=document.activeElement;if(selected!==t.selectedNode&&t.selectedNode&&(dom.removeCssClass(t.selectedNode,"ace_selected"),el.removeAttribute("aria-activedescendant"),t.selectedNode.removeAttribute("id")),t.selectedNode=selected,selected){dom.addCssClass(selected,"ace_selected");var ariaId=getAriaId(row);selected.id=ariaId,t.element.setAttribute("aria-activedescendant",ariaId),el.setAttribute("aria-activedescendant",ariaId),selected.setAttribute("role","option"),selected.setAttribute("aria-label",popup.getData(row).value),selected.setAttribute("aria-setsize",popup.data.length),selected.setAttribute("aria-posinset",row+1),selected.setAttribute("aria-describedby","doc-tooltip")}}));var hideHoverMarker=function(){setHoverMarker(-1)},setHoverMarker=function(row,suppressRedraw){row!==hoverMarker.start.row&&(hoverMarker.start.row=hoverMarker.end.row=row,suppressRedraw||popup.session._emit("changeBackMarker"),popup._emit("changeHoverMarker"))};popup.getHoveredRow=function(){return hoverMarker.start.row},event.addListener(popup.container,"mouseout",hideHoverMarker),popup.on("hide",hideHoverMarker),popup.on("changeSelection",hideHoverMarker),popup.session.doc.getLength=function(){return popup.data.length},popup.session.doc.getLine=function(i){var data=popup.data[i];return"string"==typeof data?data:data&&data.value||""};var bgTokenizer=popup.session.bgTokenizer;return bgTokenizer.$tokenizeRow=function(row){var data=popup.data[row],tokens=[];if(!data)return tokens;"string"==typeof data&&(data={value:data});var caption=data.caption||data.value||data.name;function addToken(value,className){value&&tokens.push({type:(data.className||"")+(className||""),value:value})}for(var lower=caption.toLowerCase(),filterText=(popup.filterText||"").toLowerCase(),lastIndex=0,lastI=0,i=0;i<=filterText.length;i++)if(i!=lastI&&(data.matchMask&1<<i||i==filterText.length)){var sub=filterText.slice(lastI,i);lastI=i;var index=lower.indexOf(sub,lastIndex);if(-1==index)continue;addToken(caption.slice(lastIndex,index),""),lastIndex=index+sub.length,addToken(caption.slice(index,lastIndex),"completion-highlight")}return addToken(caption.slice(lastIndex,caption.length),""),tokens.push({type:"completion-spacer",value:" "}),data.meta&&tokens.push({type:"completion-meta",value:data.meta}),data.message&&tokens.push({type:"completion-message",value:data.message}),tokens},bgTokenizer.$updateOnChange=noop,bgTokenizer.start=noop,popup.session.$computeWidth=function(){return this.screenWidth=0},popup.isOpen=!1,popup.isTopdown=!1,popup.autoSelect=!0,popup.filterText="",popup.data=[],popup.setData=function(list,filterText){popup.filterText=filterText||"",popup.setValue(lang.stringRepeat("\n",list.length),-1),popup.data=list||[],popup.setRow(0)},popup.getData=function(row){return popup.data[row]},popup.getRow=function(){return selectionMarker.start.row},popup.setRow=function(line){line=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,line)),selectionMarker.start.row!=line&&(popup.selection.clearSelection(),selectionMarker.start.row=selectionMarker.end.row=line||0,popup.session._emit("changeBackMarker"),popup.moveCursorTo(line||0,0),popup.isOpen&&popup._signal("select"))},popup.on("changeSelection",(function(){popup.isOpen&&popup.setRow(popup.selection.lead.row),popup.renderer.scrollCursorIntoView()})),popup.hide=function(){this.container.style.display="none",popup.anchorPos=null,popup.anchor=null,popup.isOpen&&(popup.isOpen=!1,this._signal("hide"))},popup.tryShow=function(pos,lineHeight,anchor,forceShow){if(!forceShow&&popup.isOpen&&popup.anchorPos&&popup.anchor&&popup.anchorPos.top===pos.top&&popup.anchorPos.left===pos.left&&popup.anchor===anchor)return!0;var el=this.container,screenHeight=window.innerHeight,screenWidth=window.innerWidth,renderer=this.renderer,maxH=renderer.$maxLines*lineHeight*1.4,dims={top:0,bottom:0,left:0},spaceBelow=screenHeight-pos.top-3*this.$borderSize-lineHeight,spaceAbove=pos.top-3*this.$borderSize;anchor||(anchor=spaceAbove<=spaceBelow||spaceBelow>=maxH?"bottom":"top"),"top"===anchor?(dims.bottom=pos.top-this.$borderSize,dims.top=dims.bottom-maxH):"bottom"===anchor&&(dims.top=pos.top+lineHeight+this.$borderSize,dims.bottom=dims.top+maxH);var fitsX=dims.top>=0&&dims.bottom<=screenHeight;if(!forceShow&&!fitsX)return!1;renderer.$maxPixelHeight=fitsX?null:"top"===anchor?spaceAbove:spaceBelow,"top"===anchor?(el.style.top="",el.style.bottom=screenHeight-dims.bottom+"px",popup.isTopdown=!1):(el.style.top=dims.top+"px",el.style.bottom="",popup.isTopdown=!0),el.style.display="";var left=pos.left;return left+el.offsetWidth>screenWidth&&(left=screenWidth-el.offsetWidth),el.style.left=left+"px",el.style.right="",popup.isOpen||(popup.isOpen=!0,this._signal("show"),lastMouseEvent=null),popup.anchorPos=pos,popup.anchor=anchor,!0},popup.show=function(pos,lineHeight,topdownOnly){this.tryShow(pos,lineHeight,topdownOnly?"bottom":void 0,!0)},popup.goTo=function(where){var row=this.getRow(),max=this.session.getLength()-1;switch(where){case"up":row=row<=0?max:row-1;break;case"down":row=row>=max?-1:row+1;break;case"start":row=0;break;case"end":row=max}this.setRow(row)},popup.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},popup.$imageSize=0,popup.$borderSize=1,popup};dom.importCssString("\n.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\n    background-color: #CAD6FA;\n    z-index: 1;\n}\n.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\n    background-color: #3a674e;\n}\n.ace_editor.ace_autocomplete .ace_line-hover {\n    border: 1px solid #abbffe;\n    margin-top: -1px;\n    background: rgba(233,233,253,0.4);\n    position: absolute;\n    z-index: 2;\n}\n.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {\n    border: 1px solid rgba(109, 150, 13, 0.8);\n    background: rgba(58, 103, 78, 0.62);\n}\n.ace_completion-meta {\n    opacity: 0.5;\n    margin-left: 0.9em;\n}\n.ace_completion-message {\n    color: blue;\n}\n.ace_editor.ace_autocomplete .ace_completion-highlight{\n    color: #2d69c7;\n}\n.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{\n    color: #93ca12;\n}\n.ace_editor.ace_autocomplete {\n    width: 300px;\n    z-index: 200000;\n    border: 1px lightgray solid;\n    position: fixed;\n    box-shadow: 2px 3px 5px rgba(0,0,0,.2);\n    line-height: 1.4;\n    background: #fefefe;\n    color: #111;\n}\n.ace_dark.ace_editor.ace_autocomplete {\n    border: 1px #484747 solid;\n    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);\n    line-height: 1.4;\n    background: #25282c;\n    color: #c1c1c1;\n}\n.ace_autocomplete .ace_text-layer  {\n    width: calc(100% - 8px);\n}\n.ace_autocomplete .ace_line {\n    display: flex;\n    align-items: center;\n}\n.ace_autocomplete .ace_line > * {\n    min-width: 0;\n    flex: 0 0 auto;\n}\n.ace_autocomplete .ace_line .ace_ {\n    flex: 0 1 auto;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n}\n.ace_autocomplete .ace_completion-spacer {\n    flex: 1;\n}\n","autocompletion.css",!1),exports.AcePopup=AcePopup,exports.$singleLineEditor=$singleLineEditor,exports.getAriaId=getAriaId})),ace.define("ace/autocomplete/util",["require","exports","module"],(function(require,exports,module){"use strict";exports.parForEach=function(array,fn,callback){var completed=0,arLength=array.length;0===arLength&&callback();for(var i=0;i<arLength;i++)fn(array[i],(function(result,err){++completed===arLength&&callback(result,err)}))};var ID_REGEX=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;exports.retrievePrecedingIdentifier=function(text,pos,regex){regex=regex||ID_REGEX;for(var buf=[],i=pos-1;i>=0&&regex.test(text[i]);i--)buf.push(text[i]);return buf.reverse().join("")},exports.retrieveFollowingIdentifier=function(text,pos,regex){regex=regex||ID_REGEX;for(var buf=[],i=pos;i<text.length&&regex.test(text[i]);i++)buf.push(text[i]);return buf},exports.getCompletionPrefix=function(editor){var prefix,pos=editor.getCursorPosition(),line=editor.session.getLine(pos.row);return editor.completers.forEach(function(completer){completer.identifierRegexps&&completer.identifierRegexps.forEach(function(identifierRegex){!prefix&&identifierRegex&&(prefix=this.retrievePrecedingIdentifier(line,pos.column,identifierRegex))}.bind(this))}.bind(this)),prefix||this.retrievePrecedingIdentifier(line,pos.column)},exports.triggerAutocomplete=function(editor){var pos=editor.getCursorPosition(),previousChar=editor.session.getLine(pos.row)[0===pos.column?0:pos.column-1];return editor.completers.some((function(el){if(el.triggerCharacters&&Array.isArray(el.triggerCharacters))return el.triggerCharacters.includes(previousChar)}))}})),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config"],(function(require,exports,module){"use strict";var HashHandler=require("./keyboard/hash_handler").HashHandler,AcePopup=require("./autocomplete/popup").AcePopup,AceInline=require("./autocomplete/inline").AceInline,getAriaId=require("./autocomplete/popup").getAriaId,util=require("./autocomplete/util"),lang=require("./lib/lang"),dom=require("./lib/dom"),snippetManager=require("./snippets").snippetManager,config=require("./config"),destroyCompleter=function(e,editor){editor.completer&&editor.completer.destroy()},Autocomplete=function(){function Autocomplete(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new HashHandler,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=lang.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=lang.delayedCall(this.updateDocTooltip.bind(this),50)}return Autocomplete.prototype.$init=function(){return this.popup=new AcePopup(this.parentNode||document.body||document.documentElement),this.popup.on("click",function(e){this.insertMatch(),e.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupChange.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup},Autocomplete.prototype.$initInline=function(){if(this.inlineEnabled&&!this.inlineRenderer)return this.inlineRenderer=new AceInline,this.inlineRenderer},Autocomplete.prototype.getPopup=function(){return this.popup||this.$init()},Autocomplete.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip()},Autocomplete.prototype.$onPopupChange=function(hide){if(this.inlineRenderer&&this.inlineEnabled){var completion=hide?null:this.popup.getData(this.popup.getRow()),prefix=util.getCompletionPrefix(this.editor);this.inlineRenderer.show(this.editor,completion,prefix)||this.inlineRenderer.hide(),this.$updatePopupPosition()}this.tooltipTimer.call(null,null)},Autocomplete.prototype.observeLayoutChanges=function(){if(!this.$elements&&this.editor){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var el=this.editor.container.parentNode,elements=[];el;)elements.push(el),el.addEventListener("scroll",this.onLayoutChange,{passive:!0}),el=el.parentNode;this.$elements=elements}},Autocomplete.prototype.unObserveLayoutChanges=function(){var _this=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach((function(el){el.removeEventListener("scroll",_this.onLayoutChange,{passive:!0})})),this.$elements=null},Autocomplete.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},Autocomplete.prototype.$updatePopupPosition=function(){var editor=this.editor,renderer=editor.renderer,lineHeight=renderer.layerConfig.lineHeight,pos=renderer.$cursorLayer.getPixelPosition(this.base,!0);pos.left-=this.popup.getTextLeftOffset();var rect=editor.container.getBoundingClientRect();pos.top+=rect.top-renderer.layerConfig.offset,pos.left+=rect.left-editor.renderer.scrollLeft,pos.left+=renderer.gutterWidth;var posGhostText={top:pos.top,left:pos.left};renderer.$ghostText&&renderer.$ghostTextWidget&&this.base.row===renderer.$ghostText.position.row&&(posGhostText.top+=renderer.$ghostTextWidget.el.offsetHeight),this.popup.tryShow(posGhostText,lineHeight,"bottom")||this.popup.tryShow(pos,lineHeight,"top")||this.popup.show(pos,lineHeight)},Autocomplete.prototype.openPopup=function(editor,prefix,keepPopupPosition){this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:getAriaId(this.popup.getRow()),inline:this.inlineEnabled}),editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.popup.setRow(this.autoSelect?0:-1),keepPopupPosition?keepPopupPosition&&!prefix&&this.detach():(this.popup.setTheme(editor.getTheme()),this.popup.setFontSize(editor.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()},Autocomplete.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()},Autocomplete.prototype.changeListener=function(e){var cursor=this.editor.selection.lead;(cursor.row!=this.base.row||cursor.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},Autocomplete.prototype.blurListener=function(e){var el=document.activeElement,text=this.editor.textInput.getElement(),fromTooltip=e.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(e.relatedTarget),container=this.popup&&this.popup.container;el==text||el.parentNode==container||fromTooltip||el==this.tooltipNode||e.relatedTarget==text||this.detach()},Autocomplete.prototype.mousedownListener=function(e){this.detach()},Autocomplete.prototype.mousewheelListener=function(e){this.detach()},Autocomplete.prototype.goTo=function(where){this.popup.goTo(where)},Autocomplete.prototype.insertMatch=function(data,options){if(data||(data=this.popup.getData(this.popup.getRow())),!data)return!1;if(""===data.value)return this.detach();var completions=this.completions,result=this.getCompletionProvider().insertMatch(this.editor,data,completions.filterText,options);return this.completions==completions&&this.detach(),result},Autocomplete.prototype.showPopup=function(editor,options){this.editor&&this.detach(),this.activated=!0,this.editor=editor,editor.completer!=this&&(editor.completer&&editor.completer.detach(),editor.completer=this),editor.on("changeSelection",this.changeListener),editor.on("blur",this.blurListener),editor.on("mousedown",this.mousedownListener),editor.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,options)},Autocomplete.prototype.getCompletionProvider=function(){return this.completionProvider||(this.completionProvider=new CompletionProvider),this.completionProvider},Autocomplete.prototype.gatherCompletions=function(editor,callback){return this.getCompletionProvider().gatherCompletions(editor,callback)},Autocomplete.prototype.updateCompletions=function(keepPopupPosition,options){if(keepPopupPosition&&this.base&&this.completions){var pos=this.editor.getCursorPosition();if((prefix=this.editor.session.getTextRange({start:this.base,end:pos}))==this.completions.filterText)return;return this.completions.setFilter(prefix),this.completions.filtered.length?1!=this.completions.filtered.length||this.completions.filtered[0].value!=prefix||this.completions.filtered[0].snippet?void this.openPopup(this.editor,prefix,keepPopupPosition):this.detach():this.detach()}if(options&&options.matches){pos=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(pos.row,pos.column),this.base.$insertRight=!0,this.completions=new FilteredList(options.matches),this.openPopup(this.editor,"",keepPopupPosition)}var session=this.editor.getSession(),prefix=(pos=this.editor.getCursorPosition(),util.getCompletionPrefix(this.editor));this.base=session.doc.createAnchor(pos.row,pos.column-prefix.length),this.base.$insertRight=!0;var completionOptions={exactMatch:this.exactMatch};this.getCompletionProvider().provideCompletions(this.editor,completionOptions,function(err,completions,finished){var filtered=completions.filtered,prefix=util.getCompletionPrefix(this.editor);if(finished){if(!filtered.length){var emptyMessage=!this.autoShown&&this.emptyMessage;if("function"==typeof emptyMessage&&(emptyMessage=this.emptyMessage(prefix)),emptyMessage){var completionsForEmpty=[{caption:this.emptyMessage(prefix),value:""}];return this.completions=new FilteredList(completionsForEmpty),void this.openPopup(this.editor,prefix,keepPopupPosition)}return this.detach()}if(1==filtered.length&&filtered[0].value==prefix&&!filtered[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&1==filtered.length)return this.insertMatch(filtered[0])}this.completions=completions,this.openPopup(this.editor,prefix,keepPopupPosition)}.bind(this))},Autocomplete.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},Autocomplete.prototype.updateDocTooltip=function(){var popup=this.popup,all=popup.data,selected=all&&(all[popup.getHoveredRow()]||all[popup.getRow()]),doc=null;if(!selected||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var completersLength=this.editor.completers.length,i=0;i<completersLength;i++){var completer=this.editor.completers[i];if(completer.getDocTooltip&&selected.completerId===completer.id){doc=completer.getDocTooltip(selected);break}}if(doc||"string"==typeof selected||(doc=selected),"string"==typeof doc&&(doc={docText:doc}),!doc||!doc.docHTML&&!doc.docText)return this.hideDocTooltip();this.showDocTooltip(doc)},Autocomplete.prototype.showDocTooltip=function(item){this.tooltipNode||(this.tooltipNode=dom.createElement("div"),this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"));var theme=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(theme.isDark?"ace_dark ":"")+(theme.cssClass||"");var tooltipNode=this.tooltipNode;item.docHTML?tooltipNode.innerHTML=item.docHTML:item.docText&&(tooltipNode.textContent=item.docText),tooltipNode.parentNode||this.popup.container.appendChild(this.tooltipNode);var popup=this.popup,rect=popup.container.getBoundingClientRect();tooltipNode.style.top=popup.container.style.top,tooltipNode.style.bottom=popup.container.style.bottom,tooltipNode.style.display="block",window.innerWidth-rect.right<320?rect.left<320?popup.isTopdown?(tooltipNode.style.top=rect.bottom+"px",tooltipNode.style.left=rect.left+"px",tooltipNode.style.right="",tooltipNode.style.bottom=""):(tooltipNode.style.top=popup.container.offsetTop-tooltipNode.offsetHeight+"px",tooltipNode.style.left=rect.left+"px",tooltipNode.style.right="",tooltipNode.style.bottom=""):(tooltipNode.style.right=window.innerWidth-rect.left+"px",tooltipNode.style.left=""):(tooltipNode.style.left=rect.right+1+"px",tooltipNode.style.right="")},Autocomplete.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),this.tooltipNode){var el=this.tooltipNode;this.editor.isFocused()||document.activeElement!=el||this.editor.focus(),this.tooltipNode=null,el.parentNode&&el.parentNode.removeChild(el)}},Autocomplete.prototype.onTooltipClick=function(e){for(var a=e.target;a&&a!=this.tooltipNode;){if("A"==a.nodeName&&a.href){a.rel="noreferrer",a.target="_blank";break}a=a.parentNode}},Autocomplete.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var el=this.popup.container;el&&el.parentNode&&el.parentNode.removeChild(el)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",destroyCompleter),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},Autocomplete}();Autocomplete.prototype.commands={Up:function(editor){editor.completer.goTo("up")},Down:function(editor){editor.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(editor){editor.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(editor){editor.completer.goTo("end")},Esc:function(editor){editor.completer.detach()},Return:function(editor){return editor.completer.insertMatch()},"Shift-Return":function(editor){editor.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(editor){var result=editor.completer.insertMatch();if(result||editor.tabstopManager)return result;editor.completer.goTo("down")},PageUp:function(editor){editor.completer.popup.gotoPageUp()},PageDown:function(editor){editor.completer.popup.gotoPageDown()}},Autocomplete.for=function(editor){return editor.completer instanceof Autocomplete||(editor.completer&&(editor.completer.destroy(),editor.completer=null),config.get("sharedPopups")?(Autocomplete.$sharedInstance||(Autocomplete.$sharedInstance=new Autocomplete),editor.completer=Autocomplete.$sharedInstance):(editor.completer=new Autocomplete,editor.once("destroy",destroyCompleter))),editor.completer},Autocomplete.startCommand={name:"startAutocomplete",exec:function(editor,options){var completer=Autocomplete.for(editor);completer.autoInsert=!1,completer.autoSelect=!0,completer.autoShown=!1,completer.showPopup(editor,options),completer.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var CompletionProvider=function(){function CompletionProvider(){this.active=!0}return CompletionProvider.prototype.insertByIndex=function(editor,index,options){return!(!this.completions||!this.completions.filtered)&&this.insertMatch(editor,this.completions.filtered[index],options)},CompletionProvider.prototype.insertMatch=function(editor,data,options){if(!data)return!1;if(editor.startOperation({command:{name:"insertMatch"}}),data.completer&&data.completer.insertMatch)data.completer.insertMatch(editor,data);else{if(!this.completions)return!1;if(this.completions.filterText&&!data.range){var ranges;ranges=editor.selection.getAllRanges?editor.selection.getAllRanges():[editor.getSelectionRange()];for(var range,i=0;range=ranges[i];i++)range.start.column-=this.completions.filterText.length,editor.session.remove(range)}data.snippet?snippetManager.insertSnippet(editor,data.snippet,{range:data.range}):this.$insertString(editor,data),data.command&&"startAutocomplete"===data.command&&editor.execCommand(data.command)}return editor.endOperation(),!0},CompletionProvider.prototype.$insertString=function(editor,data){var text=data.value||data;if(data.range){if(editor.inVirtualSelectionMode)return editor.session.replace(data.range,text);editor.forEachSelection((function(){var range=editor.getSelectionRange();0===data.range.compareRange(range)?editor.session.replace(data.range,text):editor.insert(text)}),null,{keepOrder:!0})}else editor.execCommand("insertstring",text)},CompletionProvider.prototype.gatherCompletions=function(editor,callback){var session=editor.getSession(),pos=editor.getCursorPosition(),prefix=util.getCompletionPrefix(editor),matches=[];this.completers=editor.completers;var total=editor.completers.length;return editor.completers.forEach((function(completer,i){completer.getCompletions(editor,session,pos,prefix,(function(err,results){!err&&results&&(matches=matches.concat(results)),callback(null,{prefix:util.getCompletionPrefix(editor),matches:matches,finished:0==--total})}))})),!0},CompletionProvider.prototype.provideCompletions=function(editor,options,callback){var processResults=function(results){var prefix=results.prefix,matches=results.matches;this.completions=new FilteredList(matches),options.exactMatch&&(this.completions.exactMatch=!0),options.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(prefix),(results.finished||this.completions.filtered.length)&&callback(null,this.completions,results.finished)}.bind(this),isImmediate=!0,immediateResults=null;if(this.gatherCompletions(editor,function(err,results){this.active&&(err&&(callback(err,[],!0),this.detach()),0===results.prefix.indexOf(results.prefix)&&(isImmediate?immediateResults=results:processResults(results)))}.bind(this)),isImmediate=!1,immediateResults){var results=immediateResults;immediateResults=null,processResults(results)}},CompletionProvider.prototype.detach=function(){this.active=!1,this.completers&&this.completers.forEach((function(completer){"function"==typeof completer.cancel&&completer.cancel()}))},CompletionProvider}(),FilteredList=function(){function FilteredList(array,filterText){this.all=array,this.filtered=array,this.filterText=filterText||"",this.exactMatch=!1,this.ignoreCaption=!1}return FilteredList.prototype.setFilter=function(str){if(str.length>this.filterText&&0===str.lastIndexOf(this.filterText,0))var matches=this.filtered;else matches=this.all;this.filterText=str,matches=(matches=this.filterCompletions(matches,this.filterText)).sort((function(a,b){return b.exactMatch-a.exactMatch||b.$score-a.$score||(a.caption||a.value).localeCompare(b.caption||b.value)}));var prev=null;matches=matches.filter((function(item){var caption=item.snippet||item.caption||item.value;return caption!==prev&&(prev=caption,!0)})),this.filtered=matches},FilteredList.prototype.filterCompletions=function(items,needle){var results=[],upper=needle.toUpperCase(),lower=needle.toLowerCase();loop:for(var item,i=0;item=items[i];i++){var caption=!this.ignoreCaption&&item.caption||item.value||item.snippet;if(caption){var index,distance,lastIndex=-1,matchMask=0,penalty=0;if(this.exactMatch){if(needle!==caption.substr(0,needle.length))continue loop}else{var fullMatchIndex=caption.toLowerCase().indexOf(lower);if(fullMatchIndex>-1)penalty=fullMatchIndex;else for(var j=0;j<needle.length;j++){var i1=caption.indexOf(lower[j],lastIndex+1),i2=caption.indexOf(upper[j],lastIndex+1);if((index=i1>=0&&(i2<0||i1<i2)?i1:i2)<0)continue loop;(distance=index-lastIndex-1)>0&&(-1===lastIndex&&(penalty+=10),penalty+=distance,matchMask|=1<<j),lastIndex=index}}item.matchMask=matchMask,item.exactMatch=penalty?0:1,item.$score=(item.score||0)-penalty,results.push(item)}}return results},FilteredList}();exports.Autocomplete=Autocomplete,exports.CompletionProvider=CompletionProvider,exports.FilteredList=FilteredList})),ace.define("ace/ext/command_bar",["require","exports","module","ace/tooltip","ace/lib/event_emitter","ace/lib/lang","ace/lib/dom","ace/lib/oop","ace/lib/useragent"],(function(require,exports,module){var __values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},Tooltip=require("../tooltip").Tooltip,EventEmitter=require("../lib/event_emitter").EventEmitter,lang=require("../lib/lang"),dom=require("../lib/dom"),oop=require("../lib/oop"),useragent=require("../lib/useragent"),BUTTON_CLASS_NAME="command_bar_tooltip_button",minPosition=function(posA,posB){return posB.row>posA.row||posB.row===posA.row&&posB.column>posA.column?posA:posB},keyDisplayMap={Ctrl:{mac:"^"},Option:{mac:""},Command:{mac:""},Cmd:{mac:""},Shift:"",Left:"",Right:"",Up:"",Down:""},CommandBarTooltip=function(){function CommandBarTooltip(parentNode,options){var e_1,_a;options=options||{},this.parentNode=parentNode,this.tooltip=new Tooltip(this.parentNode),this.moreOptions=new Tooltip(this.parentNode),this.maxElementsOnTooltip=options.maxElementsOnTooltip||4,this.$alwaysShow=options.alwaysShow||!1,this.eventListeners={},this.elements={},this.commands={},this.tooltipEl=dom.buildDom(["div",{class:"command_bar_tooltip"}],this.tooltip.getElement()),this.moreOptionsEl=dom.buildDom(["div",{class:"command_bar_tooltip tooltip_more_options"}],this.moreOptions.getElement()),this.$showTooltipTimer=lang.delayedCall(this.$showTooltip.bind(this),options.showDelay||100),this.$hideTooltipTimer=lang.delayedCall(this.$hideTooltip.bind(this),options.hideDelay||100),this.$tooltipEnter=this.$tooltipEnter.bind(this),this.$onMouseMove=this.$onMouseMove.bind(this),this.$onChangeScroll=this.$onChangeScroll.bind(this),this.$onEditorChangeSession=this.$onEditorChangeSession.bind(this),this.$scheduleTooltipForHide=this.$scheduleTooltipForHide.bind(this),this.$preventMouseEvent=this.$preventMouseEvent.bind(this);try{for(var _b=__values(["mousedown","mouseup","click"]),_c=_b.next();!_c.done;_c=_b.next()){var event=_c.value;this.tooltip.getElement().addEventListener(event,this.$preventMouseEvent),this.moreOptions.getElement().addEventListener(event,this.$preventMouseEvent)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}}return CommandBarTooltip.prototype.registerCommand=function(id,command){var registerForMainTooltip=Object.keys(this.commands).length<this.maxElementsOnTooltip;registerForMainTooltip||this.elements.MoreOptionsButton||this.$createCommand("MoreOptionsButton",{name:"",exec:function(){this.$shouldHideMoreOptions=!1,this.$setMoreOptionsVisibility(!this.isMoreOptionsShown())}.bind(this),type:"checkbox",getValue:function(){return this.isMoreOptionsShown()}.bind(this),enabled:!0},!0),this.$createCommand(id,command,registerForMainTooltip),this.isShown()&&this.updatePosition()},CommandBarTooltip.prototype.isShown=function(){return!!this.tooltip&&this.tooltip.isOpen},CommandBarTooltip.prototype.isMoreOptionsShown=function(){return!!this.moreOptions&&this.moreOptions.isOpen},CommandBarTooltip.prototype.getAlwaysShow=function(){return this.$alwaysShow},CommandBarTooltip.prototype.setAlwaysShow=function(alwaysShow){this.$alwaysShow=alwaysShow,this.$updateOnHoverHandlers(!this.$alwaysShow),this._signal("alwaysShow",this.$alwaysShow)},CommandBarTooltip.prototype.attach=function(editor){!editor||this.isShown()&&this.editor===editor||(this.detach(),this.editor=editor,this.editor.on("changeSession",this.$onEditorChangeSession),this.editor.session&&(this.editor.session.on("changeScrollLeft",this.$onChangeScroll),this.editor.session.on("changeScrollTop",this.$onChangeScroll)),this.getAlwaysShow()?this.$showTooltip():this.$updateOnHoverHandlers(!0))},CommandBarTooltip.prototype.updatePosition=function(){if(this.editor){var ranges,renderer=this.editor.renderer;if((ranges=this.editor.selection.getAllRanges?this.editor.selection.getAllRanges():[this.editor.getSelectionRange()]).length){for(var range,minPos=minPosition(ranges[0].start,ranges[0].end),i=0;range=ranges[i];i++)minPos=minPosition(minPos,minPosition(range.start,range.end));var pos=renderer.$cursorLayer.getPixelPosition(minPos,!0),tooltipEl=this.tooltip.getElement(),screenWidth=window.innerWidth,screenHeight=window.innerHeight,rect=this.editor.container.getBoundingClientRect();pos.top+=rect.top-renderer.layerConfig.offset,pos.left+=rect.left+renderer.gutterWidth-renderer.scrollLeft;var cursorVisible=pos.top>=rect.top&&pos.top<=rect.bottom&&pos.left>=rect.left+renderer.gutterWidth&&pos.left<=rect.right;if(cursorVisible||!this.isShown())if(cursorVisible&&!this.isShown()&&this.getAlwaysShow())this.$showTooltip();else{var top=pos.top-tooltipEl.offsetHeight,left=Math.min(screenWidth-tooltipEl.offsetWidth,pos.left);if(top>=0&&top+tooltipEl.offsetHeight<=screenHeight&&left>=0&&left+tooltipEl.offsetWidth<=screenWidth){if(this.tooltip.setPosition(left,top),this.isMoreOptionsShown()){top+=tooltipEl.offsetHeight,left=this.elements.MoreOptionsButton.getBoundingClientRect().left;var moreOptionsEl=this.moreOptions.getElement();screenHeight=window.innerHeight;top+moreOptionsEl.offsetHeight>screenHeight&&(top-=tooltipEl.offsetHeight+moreOptionsEl.offsetHeight),left+moreOptionsEl.offsetWidth>screenWidth&&(left=screenWidth-moreOptionsEl.offsetWidth),this.moreOptions.setPosition(left,top)}}else this.$hideTooltip()}else this.$hideTooltip()}}},CommandBarTooltip.prototype.update=function(){Object.keys(this.elements).forEach(this.$updateElement.bind(this))},CommandBarTooltip.prototype.detach=function(){this.tooltip.hide(),this.moreOptions.hide(),this.$updateOnHoverHandlers(!1),this.editor&&(this.editor.off("changeSession",this.$onEditorChangeSession),this.editor.session&&(this.editor.session.off("changeScrollLeft",this.$onChangeScroll),this.editor.session.off("changeScrollTop",this.$onChangeScroll))),this.$mouseInTooltip=!1,this.editor=null},CommandBarTooltip.prototype.destroy=function(){this.tooltip&&this.moreOptions&&(this.detach(),this.tooltip.destroy(),this.moreOptions.destroy()),this.eventListeners={},this.commands={},this.elements={},this.tooltip=this.moreOptions=this.parentNode=null},CommandBarTooltip.prototype.$createCommand=function(id,command,forMainTooltip){var buttonNode,parentEl=forMainTooltip?this.tooltipEl:this.moreOptionsEl,keyParts=[],bindKey=command.bindKey;bindKey&&("object"==typeof bindKey&&(bindKey=useragent.isMac?bindKey.mac:bindKey.win),keyParts=(keyParts=(bindKey=bindKey.split("|")[0]).split("-")).map((function(key){if(keyDisplayMap[key]){if("string"==typeof keyDisplayMap[key])return keyDisplayMap[key];if(useragent.isMac&&keyDisplayMap[key].mac)return keyDisplayMap[key].mac}return key}))),forMainTooltip&&command.iconCssClass?buttonNode=["div",{class:["ace_icon_svg",command.iconCssClass].join(" "),"aria-label":command.name+" ("+command.bindKey+")"}]:(buttonNode=[["div",{class:"command_bar_button_value"}],["div",{class:"command_bar_button_caption"},command.name]],keyParts.length&&buttonNode.push(["div",{class:"command_bar_keybinding"},keyParts.map((function(keyPart){return["div",keyPart]}))])),dom.buildDom(["div",{class:[BUTTON_CLASS_NAME,command.cssClass||""].join(" "),ref:id},buttonNode],parentEl,this.elements),this.commands[id]=command;var eventListener=function(e){this.editor&&this.editor.focus(),this.$shouldHideMoreOptions=this.isMoreOptionsShown(),!this.elements[id].disabled&&command.exec&&command.exec(this.editor),this.$shouldHideMoreOptions&&this.$setMoreOptionsVisibility(!1),this.update(),e.preventDefault()}.bind(this);this.eventListeners[id]=eventListener,this.elements[id].addEventListener("click",eventListener.bind(this)),this.$updateElement(id)},CommandBarTooltip.prototype.$setMoreOptionsVisibility=function(visible){visible?(this.moreOptions.setTheme(this.editor.renderer.theme),this.moreOptions.setClassName("command_bar_tooltip_wrapper"),this.moreOptions.show(),this.update(),this.updatePosition()):this.moreOptions.hide()},CommandBarTooltip.prototype.$onEditorChangeSession=function(e){e.oldSession&&(e.oldSession.off("changeScrollTop",this.$onChangeScroll),e.oldSession.off("changeScrollLeft",this.$onChangeScroll)),this.detach()},CommandBarTooltip.prototype.$onChangeScroll=function(){this.editor.renderer&&(this.isShown()||this.getAlwaysShow())&&this.editor.renderer.once("afterRender",this.updatePosition.bind(this))},CommandBarTooltip.prototype.$onMouseMove=function(e){if(!this.$mouseInTooltip){var cursorPosition=this.editor.getCursorPosition(),cursorScreenPosition=this.editor.renderer.textToScreenCoordinates(cursorPosition.row,cursorPosition.column),lineHeight=this.editor.renderer.lineHeight;e.clientY>=cursorScreenPosition.pageY&&e.clientY<cursorScreenPosition.pageY+lineHeight?(this.isShown()||this.$showTooltipTimer.isPending()||this.$showTooltipTimer.delay(),this.$hideTooltipTimer.isPending()&&this.$hideTooltipTimer.cancel()):(this.isShown()&&!this.$hideTooltipTimer.isPending()&&this.$hideTooltipTimer.delay(),this.$showTooltipTimer.isPending()&&this.$showTooltipTimer.cancel())}},CommandBarTooltip.prototype.$preventMouseEvent=function(e){this.editor&&this.editor.focus(),e.preventDefault()},CommandBarTooltip.prototype.$scheduleTooltipForHide=function(){this.$mouseInTooltip=!1,this.$showTooltipTimer.cancel(),this.$hideTooltipTimer.delay()},CommandBarTooltip.prototype.$tooltipEnter=function(){this.$mouseInTooltip=!0,this.$showTooltipTimer.isPending()&&this.$showTooltipTimer.cancel(),this.$hideTooltipTimer.isPending()&&this.$hideTooltipTimer.cancel()},CommandBarTooltip.prototype.$updateOnHoverHandlers=function(enableHover){var tooltipEl=this.tooltip.getElement(),moreOptionsEl=this.moreOptions.getElement();enableHover?(this.editor&&(this.editor.on("mousemove",this.$onMouseMove),this.editor.renderer.getMouseEventTarget().addEventListener("mouseout",this.$scheduleTooltipForHide,!0)),tooltipEl.addEventListener("mouseenter",this.$tooltipEnter),tooltipEl.addEventListener("mouseleave",this.$scheduleTooltipForHide),moreOptionsEl.addEventListener("mouseenter",this.$tooltipEnter),moreOptionsEl.addEventListener("mouseleave",this.$scheduleTooltipForHide)):(this.editor&&(this.editor.off("mousemove",this.$onMouseMove),this.editor.renderer.getMouseEventTarget().removeEventListener("mouseout",this.$scheduleTooltipForHide,!0)),tooltipEl.removeEventListener("mouseenter",this.$tooltipEnter),tooltipEl.removeEventListener("mouseleave",this.$scheduleTooltipForHide),moreOptionsEl.removeEventListener("mouseenter",this.$tooltipEnter),moreOptionsEl.removeEventListener("mouseleave",this.$scheduleTooltipForHide))},CommandBarTooltip.prototype.$showTooltip=function(){this.isShown()||(this.tooltip.setTheme(this.editor.renderer.theme),this.tooltip.setClassName("command_bar_tooltip_wrapper"),this.tooltip.show(),this.update(),this.updatePosition(),this._signal("show"))},CommandBarTooltip.prototype.$hideTooltip=function(){this.$mouseInTooltip=!1,this.isShown()&&(this.moreOptions.hide(),this.tooltip.hide(),this._signal("hide"))},CommandBarTooltip.prototype.$updateElement=function(id){var command=this.commands[id];if(command){var el=this.elements[id],commandEnabled=command.enabled;if("function"==typeof commandEnabled&&(commandEnabled=commandEnabled(this.editor)),"function"==typeof command.getValue){var value=command.getValue(this.editor);if("text"===command.type)el.textContent=value;else if("checkbox"===command.type){var domCssFn=value?dom.addCssClass:dom.removeCssClass,isOnTooltip=el.parentElement===this.tooltipEl;el.ariaChecked=value,isOnTooltip?domCssFn(el,"ace_selected"):domCssFn(el=el.querySelector(".command_bar_button_value"),"ace_checkmark")}}commandEnabled&&el.disabled?(dom.removeCssClass(el,"ace_disabled"),el.ariaDisabled=el.disabled=!1,el.removeAttribute("disabled")):commandEnabled||el.disabled||(dom.addCssClass(el,"ace_disabled"),el.ariaDisabled=el.disabled=!0,el.setAttribute("disabled",""))}},CommandBarTooltip}();oop.implement(CommandBarTooltip.prototype,EventEmitter),dom.importCssString("\n.ace_tooltip.".concat("command_bar_tooltip","_wrapper {\n    padding: 0;\n}\n\n.ace_tooltip .").concat("command_bar_tooltip"," {\n    padding: 1px 5px;\n    display: flex;\n    pointer-events: auto;\n}\n\n.ace_tooltip .").concat("command_bar_tooltip",".tooltip_more_options {\n    padding: 1px;\n    flex-direction: column;\n}\n\ndiv.").concat(BUTTON_CLASS_NAME," {\n    display: inline-flex;\n    cursor: pointer;\n    margin: 1px;\n    border-radius: 2px;\n    padding: 2px 5px;\n    align-items: center;\n}\n\ndiv.").concat(BUTTON_CLASS_NAME,".ace_selected,\ndiv.").concat(BUTTON_CLASS_NAME,":hover:not(.ace_disabled) {\n    background-color: rgba(0, 0, 0, 0.1);\n}\n\ndiv.").concat(BUTTON_CLASS_NAME,".ace_disabled {\n    color: #777;\n    pointer-events: none;\n}\n\ndiv.").concat(BUTTON_CLASS_NAME," .ace_icon_svg {\n    height: 12px;\n    background-color: #000;\n}\n\ndiv.").concat(BUTTON_CLASS_NAME,".ace_disabled .ace_icon_svg {\n    background-color: #777;\n}\n\n.").concat("command_bar_tooltip",".tooltip_more_options .").concat(BUTTON_CLASS_NAME," {\n    display: flex;\n}\n\n.").concat("command_bar_tooltip",".").concat("command_bar_button_value"," {\n    display: none;\n}\n\n.").concat("command_bar_tooltip",".tooltip_more_options .").concat("command_bar_button_value"," {\n    display: inline-block;\n    width: 12px;\n}\n\n.").concat("command_bar_button_caption"," {\n    display: inline-block;\n}\n\n.").concat("command_bar_keybinding"," {\n    margin: 0 2px;\n    display: inline-block;\n    font-size: 8px;\n}\n\n.").concat("command_bar_tooltip",".tooltip_more_options .").concat("command_bar_keybinding"," {\n    margin-left: auto;\n}\n\n.").concat("command_bar_keybinding"," div {\n    display: inline-block;\n    min-width: 8px;\n    padding: 2px;\n    margin: 0 1px;\n    border-radius: 2px;\n    background-color: #ccc;\n    text-align: center;\n}\n\n.ace_dark.ace_tooltip .").concat("command_bar_tooltip"," {\n    background-color: #373737;\n    color: #eee;\n}\n\n.ace_dark div.").concat(BUTTON_CLASS_NAME,".ace_disabled {\n    color: #979797;\n}\n\n.ace_dark div.").concat(BUTTON_CLASS_NAME,".ace_selected,\n.ace_dark div.").concat(BUTTON_CLASS_NAME,":hover:not(.ace_disabled) {\n    background-color: rgba(255, 255, 255, 0.1);\n}\n\n.ace_dark div.").concat(BUTTON_CLASS_NAME," .ace_icon_svg {\n    background-color: #eee;\n}\n\n.ace_dark div.").concat(BUTTON_CLASS_NAME,".ace_disabled .ace_icon_svg {\n    background-color: #979797;\n}\n\n.ace_dark .").concat(BUTTON_CLASS_NAME,".ace_disabled {\n    color: #979797;\n}\n\n.ace_dark .").concat("command_bar_keybinding"," div {\n    background-color: #575757;\n}\n\n.ace_checkmark::before {\n    content: '';\n}\n"),"commandbar.css",!1),exports.CommandBarTooltip=CommandBarTooltip,exports.TOOLTIP_CLASS_NAME="command_bar_tooltip",exports.BUTTON_CLASS_NAME=BUTTON_CLASS_NAME})),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],(function(require,exports,module){var Range=require("../range").Range,splitRegex=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function wordDistance(doc,pos){var prefixPos=function getWordIndex(doc,pos){return doc.getTextRange(Range.fromPoints({row:0,column:0},pos)).split(splitRegex).length-1}(doc,pos),words=doc.getValue().split(splitRegex),wordScores=Object.create(null),currentWord=words[prefixPos];return words.forEach((function(word,idx){if(word&&word!==currentWord){var distance=Math.abs(prefixPos-idx),score=words.length-distance;wordScores[word]?wordScores[word]=Math.max(score,wordScores[word]):wordScores[word]=score}})),wordScores}exports.getCompletions=function(editor,session,pos,prefix,callback){var wordScore=wordDistance(session,pos);callback(null,Object.keys(wordScore).map((function(word){return{caption:word,value:word,score:wordScore[word],meta:"local"}})))}})),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],(function(require,exports,module){"use strict";var snippetManager=require("../snippets").snippetManager,Autocomplete=require("../autocomplete").Autocomplete,config=require("../config"),lang=require("../lib/lang"),util=require("../autocomplete/util"),textCompleter=require("../autocomplete/text_completer"),keyWordCompleter={getCompletions:function(editor,session,pos,prefix,callback){if(session.$mode.completer)return session.$mode.completer.getCompletions(editor,session,pos,prefix,callback);var state=editor.session.getState(pos.row),completions=session.$mode.getCompletions(state,session,pos,prefix);callback(null,completions=completions.map((function(el){return el.completerId=keyWordCompleter.id,el})))},id:"keywordCompleter"},snippetCompleter={getCompletions:function(editor,session,pos,prefix,callback){var scopes=[],token=session.getTokenAt(pos.row,pos.column);token&&token.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?scopes.push("html-tag"):scopes=snippetManager.getActiveScopes(editor);var snippetMap=snippetManager.snippetMap,completions=[];scopes.forEach((function(scope){for(var snippets=snippetMap[scope]||[],i=snippets.length;i--;){var s=snippets[i],caption=s.name||s.tabTrigger;caption&&completions.push({caption:caption,snippet:s.content,meta:s.tabTrigger&&!s.name?s.tabTrigger+" ":"snippet",completerId:snippetCompleter.id})}}),this),callback(null,completions)},getDocTooltip:function(item){var str,record;item.snippet&&!item.docHTML&&(item.docHTML=["<b>",lang.escapeHTML(item.caption),"</b>","<hr></hr>",lang.escapeHTML((str=item.snippet,record={},str.replace(/\${(\d+)(:(.*?))?}/g,(function(_,p1,p2,p3){return record[p1]=p3||""})).replace(/\$(\d+?)/g,(function(_,p1){return record[p1]}))))].join(""))},id:"snippetCompleter"},completers=[snippetCompleter,textCompleter,keyWordCompleter];exports.setCompleters=function(val){completers.length=0,val&&completers.push.apply(completers,val)},exports.addCompleter=function(completer){completers.push(completer)},exports.textCompleter=textCompleter,exports.keyWordCompleter=keyWordCompleter,exports.snippetCompleter=snippetCompleter;var lastExecEvent,expandSnippet={name:"expandSnippet",exec:function(editor){return snippetManager.expandWithTab(editor)},bindKey:"Tab"},onChangeMode=function(e,editor){loadSnippetsForMode(editor.session.$mode)},loadSnippetsForMode=function(mode){"string"==typeof mode&&(mode=config.$modes[mode]),mode&&(snippetManager.files||(snippetManager.files={}),loadSnippetFile(mode.$id,mode.snippetFileId),mode.modes&&mode.modes.forEach(loadSnippetsForMode))},loadSnippetFile=function(id,snippetFilePath){snippetFilePath&&id&&!snippetManager.files[id]&&(snippetManager.files[id]={},config.loadModule(snippetFilePath,(function(m){m&&(snippetManager.files[id]=m,!m.snippets&&m.snippetText&&(m.snippets=snippetManager.parseSnippetFile(m.snippetText)),snippetManager.register(m.snippets||[],m.scope),m.includeScopes&&(snippetManager.snippetMap[m.scope].includeScopes=m.includeScopes,m.includeScopes.forEach((function(x){loadSnippetsForMode("ace/mode/"+x)}))))})))},doLiveAutocomplete=function(e){var editor=e.editor,hasCompleter=editor.completer&&editor.completer.activated;if("backspace"===e.command.name)hasCompleter&&!util.getCompletionPrefix(editor)&&editor.completer.detach();else if("insertstring"===e.command.name&&!hasCompleter){lastExecEvent=e;var delay=e.editor.$liveAutocompletionDelay;delay?liveAutocompleteTimer.delay(delay):showLiveAutocomplete(e)}},liveAutocompleteTimer=lang.delayedCall((function(){showLiveAutocomplete(lastExecEvent)}),0),showLiveAutocomplete=function(e){var editor=e.editor,prefix=util.getCompletionPrefix(editor),triggerAutocomplete=util.triggerAutocomplete(editor);if((prefix||triggerAutocomplete)&&prefix.length>=editor.$liveAutocompletionThreshold){var completer=Autocomplete.for(editor);completer.autoShown=!0,completer.showPopup(editor)}},Editor=require("../editor").Editor;require("../config").defineOptions(Editor.prototype,"editor",{enableBasicAutocompletion:{set:function(val){val?(this.completers||(this.completers=Array.isArray(val)?val:completers),this.commands.addCommand(Autocomplete.startCommand)):this.commands.removeCommand(Autocomplete.startCommand)},value:!1},enableLiveAutocompletion:{set:function(val){val?(this.completers||(this.completers=Array.isArray(val)?val:completers),this.commands.on("afterExec",doLiveAutocomplete)):this.commands.off("afterExec",doLiveAutocomplete)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(val){val?(this.commands.addCommand(expandSnippet),this.on("changeMode",onChangeMode),onChangeMode(0,this)):(this.commands.removeCommand(expandSnippet),this.off("changeMode",onChangeMode))},value:!1}})})),ace.define("ace/ext/inline_autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/inline","ace/autocomplete","ace/autocomplete","ace/editor","ace/autocomplete/util","ace/lib/dom","ace/lib/lang","ace/ext/command_bar","ace/ext/command_bar","ace/ext/language_tools","ace/ext/language_tools","ace/ext/language_tools","ace/config"],(function(require,exports,module){"use strict";var HashHandler=require("../keyboard/hash_handler").HashHandler,AceInline=require("../autocomplete/inline").AceInline,FilteredList=require("../autocomplete").FilteredList,CompletionProvider=require("../autocomplete").CompletionProvider,Editor=require("../editor").Editor,util=require("../autocomplete/util"),dom=require("../lib/dom"),lang=require("../lib/lang"),CommandBarTooltip=require("./command_bar").CommandBarTooltip,BUTTON_CLASS_NAME=require("./command_bar").BUTTON_CLASS_NAME,snippetCompleter=require("./language_tools").snippetCompleter,textCompleter=require("./language_tools").textCompleter,keyWordCompleter=require("./language_tools").keyWordCompleter,destroyCompleter=function(e,editor){editor.completer&&editor.completer.destroy()},InlineAutocomplete=function(){function InlineAutocomplete(editor){this.editor=editor,this.keyboardHandler=new HashHandler(this.commands),this.$index=-1,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.changeTimer=lang.delayedCall(function(){this.updateCompletions()}.bind(this))}return InlineAutocomplete.prototype.getInlineRenderer=function(){return this.inlineRenderer||(this.inlineRenderer=new AceInline),this.inlineRenderer},InlineAutocomplete.prototype.getInlineTooltip=function(){return this.inlineTooltip||(this.inlineTooltip=InlineAutocomplete.createInlineTooltip(document.body||document.documentElement)),this.inlineTooltip},InlineAutocomplete.prototype.show=function(options){this.activated=!0,this.editor.completer!==this&&(this.editor.completer&&this.editor.completer.detach(),this.editor.completer=this),this.editor.on("changeSelection",this.changeListener),this.editor.on("blur",this.blurListener),this.updateCompletions(options)},InlineAutocomplete.prototype.$open=function(){this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({}),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.getInlineTooltip().attach(this.editor),-1===this.$index?this.setIndex(0):this.$showCompletion(),this.changeTimer.cancel()},InlineAutocomplete.prototype.insertMatch=function(){var result=this.getCompletionProvider().insertByIndex(this.editor,this.$index);return this.detach(),result},InlineAutocomplete.prototype.changeListener=function(e){var cursor=this.editor.selection.lead;(cursor.row!=this.base.row||cursor.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},InlineAutocomplete.prototype.blurListener=function(e){this.detach()},InlineAutocomplete.prototype.goTo=function(where){if(this.completions&&this.completions.filtered){var completionLength=this.completions.filtered.length;switch(where.toLowerCase()){case"prev":this.setIndex((this.$index-1+completionLength)%completionLength);break;case"next":this.setIndex((this.$index+1+completionLength)%completionLength);break;case"first":this.setIndex(0);break;case"last":this.setIndex(this.completions.filtered.length-1)}}},InlineAutocomplete.prototype.getLength=function(){return this.completions&&this.completions.filtered?this.completions.filtered.length:0},InlineAutocomplete.prototype.getData=function(index){return null==index||null===index?this.completions.filtered[this.$index]:this.completions.filtered[index]},InlineAutocomplete.prototype.getIndex=function(){return this.$index},InlineAutocomplete.prototype.isOpen=function(){return this.$index>=0},InlineAutocomplete.prototype.setIndex=function(value){if(this.completions&&this.completions.filtered){var newIndex=Math.max(-1,Math.min(this.completions.filtered.length-1,value));newIndex!==this.$index&&(this.$index=newIndex,this.$showCompletion())}},InlineAutocomplete.prototype.getCompletionProvider=function(){return this.completionProvider||(this.completionProvider=new CompletionProvider),this.completionProvider},InlineAutocomplete.prototype.$showCompletion=function(){this.getInlineRenderer().show(this.editor,this.completions.filtered[this.$index],this.completions.filterText)||this.getInlineRenderer().hide(),this.inlineTooltip&&this.inlineTooltip.isShown()&&this.inlineTooltip.update()},InlineAutocomplete.prototype.$updatePrefix=function(){var pos=this.editor.getCursorPosition(),prefix=this.editor.session.getTextRange({start:this.base,end:pos});return this.completions.setFilter(prefix),this.completions.filtered.length&&(1!=this.completions.filtered.length||this.completions.filtered[0].value!=prefix||this.completions.filtered[0].snippet)?(this.$open(this.editor,prefix),prefix):this.detach()},InlineAutocomplete.prototype.updateCompletions=function(options){var prefix="";if(options&&options.matches){var pos=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(pos.row,pos.column),this.base.$insertRight=!0,this.completions=new FilteredList(options.matches),this.$open(this.editor,"")}this.base&&this.completions&&(prefix=this.$updatePrefix());var session=this.editor.getSession();pos=this.editor.getCursorPosition(),prefix=util.getCompletionPrefix(this.editor);this.base=session.doc.createAnchor(pos.row,pos.column-prefix.length),this.base.$insertRight=!0;options={exactMatch:!0,ignoreCaption:!0};this.getCompletionProvider().provideCompletions(this.editor,options,function(err,completions,finished){var filtered=completions.filtered,prefix=util.getCompletionPrefix(this.editor);if(finished){if(!filtered.length)return this.detach();if(1==filtered.length&&filtered[0].value==prefix&&!filtered[0].snippet)return this.detach()}this.completions=completions,this.$open(this.editor,prefix)}.bind(this))},InlineAutocomplete.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener)),this.changeTimer.cancel(),this.inlineTooltip&&this.inlineTooltip.detach(),this.setIndex(-1),this.completionProvider&&this.completionProvider.detach(),this.inlineRenderer&&this.inlineRenderer.isOpen()&&this.inlineRenderer.hide(),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null},InlineAutocomplete.prototype.destroy=function(){this.detach(),this.inlineRenderer&&this.inlineRenderer.destroy(),this.inlineTooltip&&this.inlineTooltip.destroy(),this.editor&&this.editor.completer==this&&(this.editor.off("destroy",destroyCompleter),this.editor.completer=null),this.inlineTooltip=this.editor=this.inlineRenderer=null},InlineAutocomplete}();InlineAutocomplete.prototype.commands={Previous:{bindKey:"Alt-[",name:"Previous",exec:function(editor){editor.completer.goTo("prev")}},Next:{bindKey:"Alt-]",name:"Next",exec:function(editor){editor.completer.goTo("next")}},Accept:{bindKey:{win:"Tab|Ctrl-Right",mac:"Tab|Cmd-Right"},name:"Accept",exec:function(editor){return editor.completer.insertMatch()}},Close:{bindKey:"Esc",name:"Close",exec:function(editor){editor.completer.detach()}}},InlineAutocomplete.for=function(editor){return editor.completer instanceof InlineAutocomplete||(editor.completer&&(editor.completer.destroy(),editor.completer=null),editor.completer=new InlineAutocomplete(editor),editor.once("destroy",destroyCompleter)),editor.completer},InlineAutocomplete.startCommand={name:"startInlineAutocomplete",exec:function(editor,options){InlineAutocomplete.for(editor).show(options)},bindKey:{win:"Alt-C",mac:"Option-C"}};var completers=[snippetCompleter,textCompleter,keyWordCompleter];require("../config").defineOptions(Editor.prototype,"editor",{enableInlineAutocompletion:{set:function(val){val?(this.completers||(this.completers=Array.isArray(val)?val:completers),this.commands.addCommand(InlineAutocomplete.startCommand)):this.commands.removeCommand(InlineAutocomplete.startCommand)},value:!1}}),InlineAutocomplete.createInlineTooltip=function(parentEl){var inlineTooltip=new CommandBarTooltip(parentEl);return inlineTooltip.registerCommand("Previous",Object.assign({},InlineAutocomplete.prototype.commands.Previous,{enabled:!0,type:"button",iconCssClass:"ace_arrow_rotated"})),inlineTooltip.registerCommand("Position",{enabled:!1,getValue:function(editor){return editor?[editor.completer.getIndex()+1,editor.completer.getLength()].join("/"):""},type:"text",cssClass:"completion_position"}),inlineTooltip.registerCommand("Next",Object.assign({},InlineAutocomplete.prototype.commands.Next,{enabled:!0,type:"button",iconCssClass:"ace_arrow"})),inlineTooltip.registerCommand("Accept",Object.assign({},InlineAutocomplete.prototype.commands.Accept,{enabled:function(editor){return!!editor&&editor.completer.getIndex()>=0},type:"button"})),inlineTooltip.registerCommand("ShowTooltip",{name:"Always Show Tooltip",exec:function(){inlineTooltip.setAlwaysShow(!inlineTooltip.getAlwaysShow())},enabled:!0,getValue:function(){return inlineTooltip.getAlwaysShow()},type:"checkbox"}),inlineTooltip},dom.importCssString('\n\n.ace_icon_svg.ace_arrow,\n.ace_icon_svg.ace_arrow_rotated {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTUuODM3MDEgMTVMNC41ODc1MSAxMy43MTU1TDEwLjE0NjggOEw0LjU4NzUxIDIuMjg0NDZMNS44MzcwMSAxTDEyLjY0NjUgOEw1LjgzNzAxIDE1WiIgZmlsbD0iYmxhY2siLz48L3N2Zz4=");\n}\n\n.ace_icon_svg.ace_arrow_rotated {\n    transform: rotate(180deg);\n}\n\ndiv.'.concat(BUTTON_CLASS_NAME,".completion_position {\n    padding: 0;\n}\n"),"inlineautocomplete.css",!1),exports.InlineAutocomplete=InlineAutocomplete})),ace.require(["ace/ext/inline_autocomplete"],(function(m){"object"==typeof module&&"object"==typeof exports&&module&&(module.exports=m)}));